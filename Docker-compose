version: "3.8"
services:
  backend:
    image: herbal-backend-image:latest
    container_name: herbal-backend-container
    build:
      context: server
      dockerfile: Dockerfile
    env_file:
      - ./server/.env
    volumes:
      - .:/app
    ports:
      - 8005:8005

  frontend:
    image: herbal-frontend-image:latest
    container_name: herbal-frontend-container
    build:
      context: client
      dockerfile: Dockerfile
      target: Final
    env_file:
      - ./client/.env
    volumes:
      - .:/app
    ports:
      - 2001:80
    depends_on:
      - backend
